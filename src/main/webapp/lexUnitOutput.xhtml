<ui:composition lang="#{localeBean.language}"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/lexUnitIndex.xhtml">
    <f:metadata>
        <f:viewParam name="lexUnit" value="#{lexUnitController.lexUnitId}" />
    </f:metadata>
    <ui:define name="lexUnitOutput">
        <div class="ContainerIndent">
            <h3>#{lexUnitController.displayLexUnit()}</h3>
            <div class="ContainerIndent">
                <h:outputText value="#{lexUnitController.currentLU.getSenseDesc()}" />
                <div class="EmptyBox5"/>
                <h:outputText value="#{text['frame']} : " style="font-size: smaller"/>
                <p:link value="#{lexUnitController.currentLU.getFrame().getName()}" var="frame" outcome="frameOutput" escape="false" target="_blank" style="font-size: smaller">
                    <f:param name="frame" value="#{lexUnitController.currentLU.getFrame().getName()}"/>
                </p:link>
            </div>
            <p:accordionPanel multiple="true" activeIndex="0,1">
                <p:tab title="#{text['lexicalEntry']}">
                    <p:dataTable var="element" value="#{lexUnitController.feRealizations}" emptyMessage="" style="padding-top: 10px; padding-bottom: 10px"> 
                        <p:column headerText="#{text['frameElement']}"> 
                            <h:outputText value="#{element.frameElement.name}" /> 
                        </p:column> 
                        <p:column headerText="#{text['numberAnnotated']}"> 
                            <h:outputText value="#{element.totalOccurences}" /> 
                        </p:column> 
                        <p:column headerText="#{text['realization']}"> 
                            <p:dataList var="var" value="#{element.patterns}" type="definition" emptyMessage=""> 
                                <h:outputText value="#{var.valenceUnits.get(0).outputString()}" style="margin-right: 10px"/> 
                                [<h:outputText value="#{var.annoSet.size()}"/>]
                            </p:dataList> 
                        </p:column> 
                    </p:dataTable>
                    <p:dataTable var="group" value="#{lexUnitController.feGroupRealizations}" emptyMessage="" style="padding-top: 15px; padding-bottom: 10px"> 
                        <p:column headerText="#{text['valencePatterns']}">
                            <p:dataTable var="realization" value="#{group.patterns}">
                                <p:columns var="fe" value="#{group.frameElements}" style="text-align: center; background-color: transparent; border: none; padding-top: 0px; padding-bottom: 0px">
                                    <f:facet name="header">
                                        <div style="border: solid 1px #C1D5DF; padding: 5px; background-color: #C1D5DF">
                                            <h:outputText value="#{fe.name}"/>
                                        </div>

                                    </f:facet>
                                    <div class="borderbottom">
                                        <h:outputText value="#{realization.outputFE(fe)}" />
                                    </div>
                                </p:columns>
                                <p:column headerText="#{text['total']} [#{group.totalOccurences}] " style="text-align: center; border: none; background-color: transparent; width: 15%">
                                    <h:outputText value="#{realization.annoSet.size()}"/>
                                </p:column>
                            </p:dataTable>
                        </p:column>
                        <!--<p:column headerText="Total" style="width: 15%; text-align: center">-->
                            <!--<h:outputText value="#{group.totalOccurences}"/>-->
                        <!--</p:column>-->
                    </p:dataTable>
                </p:tab>
                <p:tab title="#{text['annotation']}">
                    <p:dataList var="sentence" type="definition" value="#{lexUnitController.annotatedSentence}" emptyMessage="#{text['emptyMessage']}">
                        <div style="padding-top: 20px; padding-bottom: 10px">
                            <h:outputText value="#{sentence.text}"/>
                        </div>
                    </p:dataList>
                </p:tab>
            </p:accordionPanel>
        </div>

    </ui:define>
</ui:composition>