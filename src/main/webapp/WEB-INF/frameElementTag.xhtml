<ui:composition lang="#{localeBean.language}"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui">
    <p:panelGrid columns="1" styleClass="noborder" style="float: left; background-color: #{sent.bkgColor}">
        <p:row>
            <ui:repeat var="word" value="#{tag.associated}">
                <p:column rendered="#{tag.target == null}">
                    <p:commandLink rendered="#{word.isValid()}"
                                   styleClass="#{word.focus?'focus':'target'}"
                                   value="#{word.text}"
                                   action="#{sent.switchAnnoSet(word.annotationSet)}"
                                   disabled="#{!tag.parentAnnotationDisplay.fullText}"
                                    update="form2:doc-tabs:sent#{index}"/>
                    <h:outputText rendered="#{!word.isValid()}" value="#{word.text}"/>
                </p:column>
            </ui:repeat>
            <h:outputText value="#{tag.target.text}" rendered="#{tag.target != null}"/>
        </p:row>
        <p:row >
            <p:lightBox style="border-top: solid 1px #{tag.color}; text-align: center; background-color: #{sent.bkgColor}">
                <h:outputLink value="#">
                    <h:outputText value="#{tag.value}" style="color: #{tag.color}"/>
                </h:outputLink>
                <f:facet name="inline">
                    <h:outputText value="#{tag.frameElement.definition}" escape="false"/>  
                </f:facet>
            </p:lightBox>
        </p:row>
    </p:panelGrid>
</ui:composition>